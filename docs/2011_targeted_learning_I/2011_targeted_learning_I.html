<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Readings in Causal Inference, Fall 2023 - 7&nbsp; Targeted Learning: Causal Inference for Observational and Experimental Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../2019_Nabi_Shpitser/2019_Nabi_Shpitser.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Targeted Learning: Causal Inference for Observational and Experimental Data</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Readings in Causal Inference, Fall 2023</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ctesta01/CausalFall2023" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Readings in Causal Inference, Fall 2023</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../1983_Rosenbaum_and_Rubin/1983_Rosenbaum_and_Rubin.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Central Role of Propensity Scores</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2000_Robins_Hernan_and_Brumback/2000_Robins_Hernan_and_Brumback.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Marginal Structural Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2000_Dawid/2000_Dawid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Causal Inference Without Counterfactuals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2019_Aronow_Miller/2019_Aronow_Miller.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Foundations of Agnostic Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2019_Nabi_Shpitser/2019_Nabi_Shpitser.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Fair Inference on Outcomes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2011_targeted_learning_I/2011_targeted_learning_I.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Targeted Learning: Causal Inference for Observational and Experimental Data</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#forwards-preface" id="toc-forwards-preface" class="nav-link active" data-scroll-target="#forwards-preface"><span class="toc-section-number">8</span>  Forward(s), Preface</a>
  <ul class="collapse">
  <li><a href="#models-inference-and-truth-probabilistic-reasoning-in-the-information-era" id="toc-models-inference-and-truth-probabilistic-reasoning-in-the-information-era" class="nav-link" data-scroll-target="#models-inference-and-truth-probabilistic-reasoning-in-the-information-era">Models, Inference, and Truth: Probabilistic Reasoning in the Information Era</a></li>
  <li><a href="#chapter-1" id="toc-chapter-1" class="nav-link" data-scroll-target="#chapter-1">Chapter 1</a>
  <ul class="collapse">
  <li><a href="#the-roadmap" id="toc-the-roadmap" class="nav-link" data-scroll-target="#the-roadmap">The Roadmap</a></li>
  </ul></li>
  <li><a href="#chapter-2" id="toc-chapter-2" class="nav-link" data-scroll-target="#chapter-2">Chapter 2</a>
  <ul class="collapse">
  <li><a href="#defining-a-structural-causal-model-scm" id="toc-defining-a-structural-causal-model-scm" class="nav-link" data-scroll-target="#defining-a-structural-causal-model-scm">Defining a Structural Causal Model (SCM)</a></li>
  <li><a href="#defining-the-causal-target-parameter" id="toc-defining-the-causal-target-parameter" class="nav-link" data-scroll-target="#defining-the-causal-target-parameter">Defining the Causal Target Parameter</a></li>
  <li><a href="#identifiability" id="toc-identifiability" class="nav-link" data-scroll-target="#identifiability">Identifiability</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Targeted Learning: Causal Inference for Observational and Experimental Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><a href="https://ctesta01.github.io/CausalFall2023/">← Home</a></p>
<p>Notes on <i>Targeted Learning: Causal Inference for Observational and Experimental Data</i> by Mark J. van der Laan and Sherri Rose.</p>
<p><a href="https://link.springer.com/book/10.1007/978-1-4419-9782-1" class="uri">https://link.springer.com/book/10.1007/978-1-4419-9782-1</a></p>
<p>I try to keep a really clear focus on what information is <em>new</em> to me when I’m reading material that covers a topic I already have some relationship to. Thus, you may find that these notes are incomplete from the standpoint that they’re not designed to be an introduction to the material, or to walk the reader through the book, but rather my own way of cataloguing my progress in catching up with the thinking in the field and described in the book.</p>
<section id="forwards-preface" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Forward(s), Preface</h1>
<p>One of the things I’ve noticed is that while practitioners seem split on Pearl’s do-calculus, it does make certain statements more conceptually clear. For example, the consistency assumption sounds a little bit silly when written in English words, but in do-calculus is is quite clear.</p>
<p>For example, from (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4912021/">Rekhopf et al, 2016</a>):</p>
<blockquote class="blockquote">
<p>The consistency assumption implies that an individual’s potential outcome under his or her observed exposure history is the outcome that will actually be observed for that person.</p>
</blockquote>
<p>Rewritten in do-calculus, we might say that this is the assumption that <span class="math inline">\(\mathbb{E}(Y | X) = \mathbb{E}(Y | \text{do}(X))\)</span>. That is, we place a distinct focus on the fact that there may be some worthwhile distinction between what happens depending on the level of <span class="math inline">\(X\)</span>, and what happens if we intervene on <span class="math inline">\(X\)</span>. The consistency assumption is a way of setting aside such questions (perhaps for later).</p>
<hr>
<p>In the preface, I find the convictions behind the philosophy of the authors spelled out quite clearly in this passage:</p>
<blockquote class="blockquote">
<p>The field [statistics] is ready for a revolution, one driven by clear, objective benchmarks under which tools can be evaluated. […] Why do we need a revolution? Can we not keep doing what we have been doing? Sadly, nearly all data analyses are based on the application of so-called parametric (or other restrictive) statistical models that assume the data-generating distributions have specific forms. Many agree that these statistical models are wrong. That is, everybody knows that linear or logistic regression in parametric statistical models and Cox proportional hazards models are specified incorrectly. In the early 1900s when R.A. Fisher developed maximum likelihood estimation, these parametric statistical models were suitable since the data structures were very low dimensional. Therefore, saturated parametric statistical models could be applied. However, today statisticians still use these models to draw conclusions in high-dimensional data and then hope these conclusions are not too wrong.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>It is too easy to state that using methods we know are wrong is an acceptable practice: it is not!</strong> [emphasis by the authors]</p>
</blockquote>
<section id="models-inference-and-truth-probabilistic-reasoning-in-the-information-era" class="level3">
<h3 class="anchored" data-anchor-id="models-inference-and-truth-probabilistic-reasoning-in-the-information-era">Models, Inference, and Truth: Probabilistic Reasoning in the Information Era</h3>
<p>Not so many math or statistics books have a philosophical 0th chapter, and I rather kind of enjoyed this chapter mostly because of the following excerpt:</p>
<blockquote class="blockquote">
<p><em>What is reality? Does it exist mind-independently? Do we have access to it? If yes, how? Can we make true statements about it? If yes, what is truth and how is it connected to reality?</em></p>
</blockquote>
<p>Some of my closest friends may know a common trope of mine is to ask (facetiously): “What does it mean to know something? Can we know things?” Do with that what you will.</p>
<p>I won’t re-iterate all of the ideas covered in this philosophical chapter, but there are a few key ideas that are worth contemplating further:</p>
<ul>
<li>How do our conceptions of what reality is affect the way in which we go about constructing “models” of it?
<ul>
<li>“For a long time, the related concepts of variation and change had a rather pejorative connotation in philosophy and science. It all began with the ancient Greek philosophers who sought an explanation for the different aspects of change: change of location (motion), growth and decay, change in quality and quantity. Its existence was often denied or deemed impossible and reduced to nonchange. Variation was regarded as a deviation from a rule or standard, which at best should be explained. Both were indications of imperfections and unpredictability.”</li>
</ul></li>
<li>What is the role of pragmatics in science?
<ul>
<li>“Pragmatists refrain from a correspondence theory or coherence theory of truth but interpret truth as something that works in practice and that makes a difference in real life. For example, Peirce considered science the result of two human interests: the removal of irritation caused by doubt and imperatives to act decisively. It is not surprising that a pragmatists approach to truth and science is appreciated by statisticians, who naturally seek to identify differences and have always worked together on real-world problems.”</li>
</ul></li>
<li>How is it that we settle debates in the philosophy of statistics?
<ul>
<li>“Any epistemologist who considers information processes to be fundamental, who wants to do justice to variation and change in reality, and who addresses the tension between a scientific worldview and common sense can hardly neglect debates about immanent trends in statistics and the key problems they pose for the philosophy of statistics. This applies even more if one takes the view that any interesting concept in epistemology and science can only be genuinely developed by considering real-life problems occurring in large-scale knowledge domains. The associated methodology for probabilistic reasoning should be from the same mold.”</li>
</ul></li>
</ul>
</section>
<section id="chapter-1" class="level2">
<h2 class="anchored" data-anchor-id="chapter-1">Chapter 1</h2>
<p>We denote the data as being i.i.d. copies of <span class="math inline">\(O\)</span>, where <span class="math inline">\(O\)</span> is <span class="math inline">\(P_0\)</span> distributed.</p>
<p>Specifically, <span class="math inline">\(O = (W, A, Y) \sim P_0\)</span>, where our vector of covariates is <span class="math inline">\(W\)</span>, an exposure or treatment is given by <span class="math inline">\(A\)</span>, and we have an outcome <span class="math inline">\(Y\)</span>.</p>
<p>In some instances, this data structure may need to be augmented. For example, we might have a scenario with right-censoring. In such a case, we could write <span class="math inline">\(T\)</span> as the time to event <span class="math inline">\(Y\)</span>, <span class="math inline">\(C\)</span> as the censoring time, <span class="math inline">\(\tilde T = \min(T, C)\)</span>, <span class="math inline">\(\Delta = I(T \leq \tilde T)\)</span>, and then our data as <span class="math inline">\(O = (W, A, \tilde T, \Delta)\)</span>.</p>
<p>We denote the statistical model of which <span class="math inline">\(P_0\)</span> is an element as <span class="math inline">\(\mathcal M\)</span>.</p>
<blockquote class="blockquote">
<p>Formally, a statistical model <span class="math inline">\(\mathcal M\)</span> is a set of possible probability distributions for <span class="math inline">\(P_0\)</span>; it is a collection of probability distributions.</p>
</blockquote>
<p>We make a subtle distinction between a <em>statistical</em> model and a model. A statistical model is a model <span class="math inline">\(\mathcal M = \{ P_\theta : \theta \in \Theta\}\)</span>, where <span class="math inline">\(\Omega\)</span> is the space of <span class="math inline">\(\theta\)</span>-values, and <span class="math inline">\(\Theta\)</span> is infinite-dimensional.</p>
<p>Next we define <span class="math inline">\(\Psi(P_0)\)</span>, which is the target parameter of the probability distribution <span class="math inline">\(P_0\)</span> mapping the distribution into the target feature. <span class="math inline">\(\Psi(P_0)\)</span> is defined as a feature of the true probability distribution <span class="math inline">\(P_0\)</span>, that is <span class="math inline">\(\Psi : \mathcal M \to \mathbb R^d\)</span>.</p>
<p>For example, <span class="math inline">\(\Psi(P_0)\)</span> might be the risk difference, in which case:</p>
<p><span class="math display">\[\Psi(P_0) = \mathbb{E}_{W,0}[\mathbb{E}_0(Y \mid A = 1, W) - \mathbb{E}_{0}(Y \mid A = 0, W)].\]</span></p>
<section id="the-roadmap" class="level3">
<h3 class="anchored" data-anchor-id="the-roadmap">The Roadmap</h3>
<p>This figure repeats a couple of times throughout the book, so I thought it worthwhile to include here:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/roadmap.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">the roadmap of TMLE</figcaption><p></p>
</figure>
</div>
<p>From page 18.</p>
</section>
</section>
<section id="chapter-2" class="level2">
<h2 class="anchored" data-anchor-id="chapter-2">Chapter 2</h2>
<section id="defining-a-structural-causal-model-scm" class="level3">
<h3 class="anchored" data-anchor-id="defining-a-structural-causal-model-scm">Defining a Structural Causal Model (SCM)</h3>
<p>We introduce the function <span class="math inline">\(Pa(\cdot)\)</span>, which represents the “parents” of a node in a graph. This allows us to say that</p>
<p><span class="math display">\[X_j = f_{X_j}(Pa(X_j), U_{X_j}), j = 1, ..., J.\]</span></p>
<p>That is, each node in a graph <span class="math inline">\(X_j\)</span> is some function of its parents and an exogenous <span class="math inline">\(U_{X_j}\)</span>, which we can think of as the unobserved and stochastic/random factors affecting <span class="math inline">\(X_j\)</span>.</p>
<p>We denote by <span class="math inline">\(X\)</span> and <span class="math inline">\(X_j\)</span> the endogenous variables that are nodes in the causal model. Therefore, our observed random variable <span class="math inline">\(O\)</span> are typically included in <span class="math inline">\(X\)</span> and have a distribution implied by the distribution of <span class="math inline">\((U,X)\)</span>. There may be other unobserved variables not in <span class="math inline">\(O\)</span> but that are included in <span class="math inline">\(X\)</span>.</p>
<p>Therefore, we would write</p>
<p><span class="math display">\[W = f_W(U_W),\]</span> <span class="math display">\[A = f_A(W, U_A),\]</span> <span class="math display">\[Y = f_Y(W,A,U_Y).\]</span></p>
</section>
<section id="defining-the-causal-target-parameter" class="level3">
<h3 class="anchored" data-anchor-id="defining-the-causal-target-parameter">Defining the Causal Target Parameter</h3>
<p>We write <span class="math inline">\(\mathcal M^F\)</span> as the model for distribution of the full data <span class="math inline">\((U,X)\)</span>, i.e., a collection of possible <span class="math inline">\(P_{U,X}\)</span> distributions described by the SCM.</p>
<p>We also define the causal target parameter <span class="math inline">\(\Psi^F : \mathcal M^F \to \mathbb R^d\)</span>.</p>
<p>Now, counterfactual outcomes can be denoted as <span class="math display">\[Y_1 = f_Y(W, 1, U_Y),\]</span> <span class="math display">\[Y_0 = f_Y(W, 0, U_Y),\]</span> <span class="math display">\[Y_a = f_Y(W, a, U_Y).\]</span></p>
<p>We denote endogenous nodes in <span class="math inline">\(X\)</span> that are not the treatment by a shorthand, <span class="math inline">\(L\)</span>. If there are multiple treatments and multiple other endogenous variables, we index them respectively by <span class="math inline">\(s\)</span> and <span class="math inline">\(r\)</span> so that <span class="math inline">\(X = ((A_s : s), (L_r : r))\)</span>.</p>
<blockquote class="blockquote">
<p>Statistic interventions on the <span class="math inline">\(A\)</span>-nodes correspond with setting <span class="math inline">\(A\)</span> to a fixed value <span class="math inline">\(a\)</span>, while dynamic interventions deterministically set <span class="math inline">\(A_s\)</span> according to a fixed rule applied to the parents of <span class="math inline">\(A_s\)</span>. […] We will denote such a rule for assigning <span class="math inline">\(d\)</span> to the intervention nodes… <span class="math inline">\(d = (d_s : s = 1, ..., S)\)</span> is a set of <span class="math inline">\(S\)</span> rules. Such rules <span class="math inline">\(d\)</span> are also called dynamic treatment regimens.</p>
</blockquote>
<p>Note that such a modification of the intervention variables could have downstream effects on the other endogenous variables, so we denote the resulting realization by <span class="math inline">\(L_d(u)\)</span>. The random variable <span class="math inline">\(L_d(U)\)</span> is called a postintervention random variable.</p>
</section>
<section id="identifiability" class="level3">
<h3 class="anchored" data-anchor-id="identifiability">Identifiability</h3>
<p>If <span class="math inline">\(O=X\)</span> and for each <span class="math inline">\(s\)</span>, <span class="math inline">\(A_s\)</span> is independent of <span class="math inline">\(L_d\)</span> given <span class="math inline">\(Pa(A_s)\)</span>, then</p>
<p><span class="math display">\[P(L_d = l) = \prod_{r=1}^R P(L_r = l_r \mid Pa_d(L_r) = Pa_d(l_r)).\]</span></p>
<p>This is the sequential randomization assumption and can be established by verifying the backdoor path criterion.</p>
<blockquote class="blockquote">
<p>The backdoor path criterion states that for each <span class="math inline">\(A_s\)</span>, each backdoor path from <span class="math inline">\(A_s\)</span> to an <span class="math inline">\(L_r\)</span> node that is realized after <span class="math inline">\(A_s\)</span> is blocked by one of the other <span class="math inline">\(L_r\)</span> nodes.</p>
</blockquote>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="ctesta01/CausalFall2023" data-repo-id="R_kgDOKJFkiQ" data-category="General" data-category-id="DIC_kwDOKJFkic4CY4aM" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../2019_Nabi_Shpitser/2019_Nabi_Shpitser.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Fair Inference on Outcomes</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>